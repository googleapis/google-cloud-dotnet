<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Resource names | Google Cloud APIs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Resource names | Google Cloud APIs ">
    <meta name="generator" content="docfx 2.7.2.0">
    
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
              <h1 id="resource-names">Resource names</h1>
              
<h2 id="concepts">Concepts</h2>
<p>Many Google Cloud Platform APIs deal with multiple resources. Historically there
have been many different approaches to identifying these resources, but new APIs
are coalescing around the idea of a single <em>resource name</em> which uniquely identifies
that resource within an API.</p>
<p>A resource name is a path-like structure, typically alternating between fixed collection
names and an identifier within that collection. Throughout this page, we will use
the example of the <a href="https://cloud.google.com/pubsub/overview">Google Cloud Pub/Sub API</a>,
which is exposed by the <a href="https://www.nuget.org/packages/Google.Pubsub.V1">Google.Pubsub.V1 NuGet package</a>.</p>
<p>In Cloud Pub/Sub, a publisher creates a <em>topic</em> within a <em>project</em>, and a subscriber creates
a <em>subscription</em> to that topic, also within a project. (The topic and subscription may be in different projects.)
It is possible to list the topics or subscriptions within a project.</p>
<p>To make everything concrete, we&#39;ll consider three resources:</p>
<ul>
<li>Project: <code>projects/petstore</code></li>
<li>Topic: <code>projects/petstore/topics/offers</code></li>
<li>Subscription: <code>projects/petstore_web/subscriptions/pet_offers</code></li>
</ul>
<p>(We&#39;ve deliberately used a different project in the subscription to highlight that they don&#39;t have to be the same.)</p>
<p>The names above are the ones you would see and use in the Pub/Sub API. For example, to list all the topics
in the <code>projects/petstore</code> project, you would use the <a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html#Google_Pubsub_V1_PublisherClient_ListTopics_System_String_System_String_System_Nullable_System_Int32__Google_Api_Gax_CallSettings_">PublisherClient.ListTopics</a> method:</p>
<pre><code class="lang-cs">var client = PublisherClient.Create();
var topics = client.ListTopics(&quot;projects/petstore&quot;);
foreach (Topic topic in topics)
{
    // Output would include projects/petstore/topics/offers
    Console.WriteLine(topic.Name);
}
</code></pre><p>Using a single string as a resource name makes many things simple - such as referring to a resource in a logging or monitoring API.
However, there are times when an application would more naturally consider <em>resource IDs</em> - the parts within an resource name that vary.</p>
<p>For example, within our topic resource name (<code>projects/petstore/topics/offers</code>) there are two resource IDs:</p>
<ul>
<li>The project ID (<code>petstore</code>)</li>
<li>The topic ID (<code>offers</code>)</li>
</ul>
<p>We can&#39;t tell you when your application will need to use resource IDs and when it will need to use resource names, but we&#39;d recommend
using the terms &quot;name&quot; and &quot;ID&quot; in a manner consistent with the API terminology. The more you can use resource names in your code, the
less parsing and formatting you&#39;ll need to perform, of course.</p>
<p>You should not perform the formatting and parsing yourself, as it is error-prone and tedious. Instead, use the functionality
provided by the class libraries, as described below.</p>
<h2 id="formatting-a-resource-name-from-resource-ids">Formatting a resource name from resource IDs</h2>
<p>For each resource used by a particular API client, a static format method is generated. For example, the <a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html">PublisherClient</a> class has two format methods:</p>
<ul>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html#Google_Pubsub_V1_PublisherClient_FormatProjectName_System_String_">FormatProjectName(string)</a></li>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html#Google_Pubsub_V1_PublisherClient_FormatTopicName_System_String_System_String_">FormatTopicName(string, string)</a></li>
</ul>
<p>Likewise, the <a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html">SubscriberClient</a> class has three methods:</p>
<ul>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_FormatProjectName_System_String_">FormatProjectName(string)</a></li>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_FormatTopicName_System_String_System_String_">FormatTopicName(string, string)</a></li>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_FormatSubscriptionName_System_String_System_String_">FormatSubscriptionName(string, string)</a></li>
</ul>
<p>(A publisher never needs to format a subscription name, whereas a subscriber <em>does</em> need to format a topic name in order to
create a subscription.)</p>
<p>Each format method has one parameter for each resource ID present in the resource name, in the order in which they appear in the resource name.</p>
<p>Here&#39;s an example of formatting the resource name for our <code>offers</code> topic:</p>
<pre><code class="lang-cs">string projectId = &quot;petstore&quot;;
string topicId = &quot;offers&quot;;
string topicName = PublisherClient.FormatTopicName(projectId, topicId);
// The value of topicName is now &quot;projects/petstore/topics/offers&quot;
</code></pre><h2 id="parsing-resource-ids-from-a-resource-name">Parsing resource IDs from a resource name</h2>
<p>As well as the format methods, a static property is provided for each resource, of type
<a href="api/Google.Api.Gax.PathTemplate.html">PathTemplate</a>. This can be used to parse a resource name (as a string)
into a <a href="api/Google.Api.Gax.ResourceName.html">ResourceName</a> object. The resource IDs can then be extracted from
that object either by index or by name. The names of the resource IDs match the names of the parameters in the corresponding
<code>Format</code> methods.</p>
<p>The <a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html">PublisherClient</a> class has two template properties:</p>
<ul>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html#Google_Pubsub_V1_PublisherClient_ProjectTemplate">ProjectTemplate</a></li>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html#Google_Pubsub_V1_PublisherClient_TopicTemplate">TopicTemplate</a></li>
</ul>
<p>Likewise, the <a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html">SubscriberClient</a> class has three properties:</p>
<ul>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_ProjectTemplate">ProjectTemplate</a></li>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_TopicTemplate">TopicTemplate</a></li>
<li><a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_SubscriptionTemplate">SubscriptionTemplate</a></li>
</ul>
<p>Example of extracting resource IDs by index:</p>
<pre><code class="lang-cs">string topicName = &quot;projects/petstore/topics/offers&quot;;
ResourceName parsedName = PublisherClient.TopicTemplate.ParseName(topicName);
string projectId = parsedName[0];
string topicId = parsedName[1];

// The value of projectId is now &quot;petstore&quot;
// The value of topicId is now &quot;offers&quot;
</code></pre><p>Example of extracting resource IDs by name:</p>
<pre><code class="lang-cs">string topicName = &quot;projects/petstore/topics/offers&quot;;
ResourceName parsedName = PublisherClient.TopicTemplate.ParseName(topicName);
string projectId = parsedName[&quot;project&quot;];
string topicId = parsedName[&quot;topic&quot;];

// The value of projectId is now &quot;petstore&quot;
// The value of topicId is now &quot;offers&quot;
</code></pre>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
             
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
