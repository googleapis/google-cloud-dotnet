name: Build and test PR (tools)

on: [pull_request]

jobs:

  build:
    runs-on: ubuntu-latest
    env:
      DOTNET_NOLOGO: true
    
    steps:
    - uses: actions/checkout@v6
      with:
        submodules: true
        
    - name: Setup .NET
      uses: actions/setup-dotnet@v5
      with:
        dotnet-version: |
          8.0.x

    - name: Build tools
      run: |
        dotnet build tools/Google.Cloud.Tools.sln
        for proj in tools/*.Tests; do dotnet test $proj; done
